{{- $u := urls.Parse .Destination -}}
<a href="{{ if (strings.HasSuffix $u.Path ".md") }}{{ (.Page.GetPage $u.Path).RelPermalink }}{{ else }}{{ .Destination | safeURL }}{{ end }}"{{ with .Title }} title="{{ . }}"{{ end }}{{ if strings.HasPrefix .Destination "http" }} target="_blank" rel="noopener"{{ end }}>{{ .Text | safeHTML }}</a>